<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BlueNova 2048</title>
<style>
body{margin:0;background:#050b15;color:white;font-family:Arial;text-align:center;}
h2{color:#3da9ff;margin:15px;}
#grid{display:grid;grid-template-columns:repeat(4,80px);gap:5px;margin:20px auto;}
.cell{width:80px;height:80px;background:#0f2547;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:24px;transition:0.2s;}
#score{margin-top:10px;}
</style>
</head>
<body>
<h2>BlueNova 2048</h2>
<div id="grid"></div>
<div id="score">Score: 0</div>
<script>
let grid=[],score=0,gridDiv=document.getElementById("grid");
function init(){grid=Array(16).fill(0);gridDiv.innerHTML="";for(let i=0;i<16;i++){let d=document.createElement("div");d.className="cell";d.innerText="";gridDiv.appendChild(d);}addTile();addTile();update();}
function addTile(){let empty=[];for(let i=0;i<16;i++)if(grid[i]==0)empty.push(i);if(empty.length){let idx=empty[Math.floor(Math.random()*empty.length)];grid[idx]=Math.random()<0.9?2:4;}}
function update(){for(let i=0;i<16;i++){gridDiv.children[i].innerText=grid[i]?grid[i]:"";}document.getElementById("score").innerText="Score: "+score;}
function move(dir){let moved=false; function slide(arr){let newArr=arr.filter(x=>x); for(let i=0;i<newArr.length-1;i++){if(newArr[i]==newArr[i+1]){newArr[i]*=2;score+=newArr[i];newArr[i+1]=0;}} newArr=newArr.filter(x=>x); while(newArr.length<4)newArr.push(0);return newArr;}
for(let i=0;i<4;i++){let line=[];if(dir=="L"||dir=="R"){for(let j=0;j<4;j++)line.push(grid[i*4+j]); if(dir=="R")line.reverse(); let res=slide(line); if(dir=="R")res.reverse(); for(let j=0;j<4;j++){if(grid[i*4+j]!=res[j])moved=true;grid[i*4+j]=res[j];}}else{for(let j=0;j<4;j++)line.push(grid[j*4+i]); if(dir=="D")line.reverse(); let res=slide(line); if(dir=="D")res.reverse(); for(let j=0;j<4;j++){if(grid[j*4+i]!=res[j])moved=true;grid[j*4+i]=res[j];}}}
if(moved)addTile();update();}
document.addEventListener("keydown",e=>{if(e.key=="ArrowUp")move("U");if(e.key=="ArrowDown")move("D");if(e.key=="ArrowLeft")move("L");if(e.key=="ArrowRight")move("R");});
init();
</script>
</body>
</html>
